import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a,o as i}from"./app-DYRf5iVE.js";const o={};function s(r,e){return i(),n("div",null,e[0]||(e[0]=[a('<h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>Prior to Sui 0.28.x to submit transactions with multiple commands one was required to invoke the<br> recently renamed, <code>unsafe_batchTransaction</code>. This is somewhat limited to allowing only calls to<br><code>public entry fun</code> functions on contracts (a.k.a. move calls) and object transfers.</p><p>Recently Mysten Labs introduced &#39;programmable transactions&#39; which expanded<br> the capability of structuring multiple-diverse commands, sharing results between commands, lifting the<br> limitations of calling only <code>public entry fun</code> to now include any <code>public fun</code> contract functions and much more.</p><p>The current Mysten Labs documentation (using TypeScript examples) can be found <a href="https://docs.sui.io/devnet/build/prog-trans-ts-sdk" target="_blank" rel="noopener noreferrer">Here</a></p><h2 id="this-document" tabindex="-1"><a class="header-anchor" href="#this-document"><span>This document</span></a></h2><p>The purpose of this guide is to add <strong>general</strong>, language agnostic, information about programmable transactions (herein referred to simply as &#39;transaction&#39; or &#39;transactions&#39;).</p><h2 id="what-is-a-transaction" tabindex="-1"><a class="header-anchor" href="#what-is-a-transaction"><span>What is a Transaction?</span></a></h2><ul><li>Transactions may contain one or more <a href="#what-are-commands">commands</a></li><li>Transactions support multiple <a href="#signing-transactions">signers</a></li><li>If one command in a transaction fails, the whole transaction fails</li><li>Transactions are inspectable (<code>sui_devInspectTransactionBlock</code>) and can be dry-run (<code>sui_dryRunTransactionBlock</code>) as well</li><li>Endpoints (i.e. devnet, testnet, etc.) are configurable</li></ul><h3 id="what-are-commands" tabindex="-1"><a class="header-anchor" href="#what-are-commands"><span>What are Commands</span></a></h3><p>Commands are a single unit of execution to which you can add many in a single transaction:</p><ul><li>Some SDK in the references come with &#39;out of the box&#39; commands, such as <code>split</code>,<code>merge</code> and <code>transfer</code></li><li>Commands can contain calls to Sui contracts/packages (i.e. move calls)</li><li>Move calls are not limited to <code>public entry</code> functions of the contract, calls to any <code>public</code> function are supported</li><li>Commands are run <em>sequentially</em></li><li>Command inputs may be simple (numbers, strings, addresses) or objects (coins, NFTs, shared objects, etc.)</li><li>Typically, non-object inputs are often called &#39;pure&#39; whereas objects are called, well, &#39;objects&#39;</li><li>Inputs may be collections (i.e. vectors, lists or arrays) of &#39;pure&#39; types</li><li>Collections of objects are supported through &#39;making a Move vector&#39;, the results of which can be used as input<br> to subsequent commands</li><li>Results of commands may be used as inputs to subsequent commands</li><li>Not all commands return a re-usable results. For example: <code>transfer</code> does not return a reusable result</li><li>Results may be a single result or an array/list of results</li></ul><h3 id="known-command-restrictions" tabindex="-1"><a class="header-anchor" href="#known-command-restrictions"><span>Known Command Restrictions</span></a></h3><ul><li>Commands can only operate with multiple objects for which the primary sender can sign. In other words, if one command is<br> operating with address &#39;A&#39; owned objects, a subsequent command can not include address &#39;B&#39; owned objects as there is no<br> way to include another signer. This restriction and the associated signing limitation, is reported to be in review to hopefully ease this constraint</li><li>Collections are limited to a depth level of 16 (e.g. <code>vector&lt;vector&lt;vector&lt;.....&gt;&gt;&gt;</code>)</li><li>Additional transactions and command constraints can be viewed via the <code>sui_getProtocolConfig</code> RPC method</li></ul><h3 id="signing-transactions" tabindex="-1"><a class="header-anchor" href="#signing-transactions"><span>Signing Transactions</span></a></h3><p>At the time of this writing, a maximum of two (2) signers are allowable:</p><ol><li>The sender, sometimes referred to as the primary signer (can be a MultiSig)</li><li>A sponsor if the payment for the transaction (gas) is provided by another gas object owner (can be a MultiSig)</li></ol><h2 id="additional-references" tabindex="-1"><a class="header-anchor" href="#additional-references"><span>Additional References</span></a></h2><p>Programmable transactions are supported in multiple programming languages. Known at the time of this writing:</p><ul><li>TypeScript: Mysten Labs TS SDK</li><li>Rust: Mysten Labs Rust SDK</li><li>Python: <a href="https://github.com/FrankC01/pysui" target="_blank" rel="noopener noreferrer">pysui</a></li></ul>',19)]))}const d=t(o,[["render",s],["__file","progtxns.html.vue"]]),m=JSON.parse('{"path":"/cookbook/guides/progtxns.html","title":"Programmable Transaction","lang":"en-US","frontmatter":{"title":"Programmable Transaction","order":4,"contributors":true,"editLink":true,"description":"Introduction Prior to Sui 0.28.x to submit transactions with multiple commands one was required to invoke the recently renamed, unsafe_batchTransaction. This is somewhat limited...","head":[["meta",{"property":"og:url","content":"https://suibase.io/cookbook/guides/progtxns.html"}],["meta",{"property":"og:site_name","content":"suibase.io"}],["meta",{"property":"og:title","content":"Programmable Transaction"}],["meta",{"property":"og:description","content":"Introduction Prior to Sui 0.28.x to submit transactions with multiple commands one was required to invoke the recently renamed, unsafe_batchTransaction. This is somewhat limited..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-08-06T04:52:57.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-06T04:52:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Programmable Transaction\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-06T04:52:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"suibase.io\\",\\"url\\":\\"https://suibase.io\\"}]}"]]},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"This document","slug":"this-document","link":"#this-document","children":[]},{"level":2,"title":"What is a Transaction?","slug":"what-is-a-transaction","link":"#what-is-a-transaction","children":[{"level":3,"title":"What are Commands","slug":"what-are-commands","link":"#what-are-commands","children":[]},{"level":3,"title":"Known Command Restrictions","slug":"known-command-restrictions","link":"#known-command-restrictions","children":[]},{"level":3,"title":"Signing Transactions","slug":"signing-transactions","link":"#signing-transactions","children":[]}]},{"level":2,"title":"Additional References","slug":"additional-references","link":"#additional-references","children":[]}],"git":{"createdTime":1682543300000,"updatedTime":1722919977000,"contributors":[{"name":"Frank V. Castellucci","email":"frankiecast@gmail.com","commits":3},{"name":"mario4tier","email":"mario4tier@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":1.77,"words":532},"filePathRelative":"cookbook/guides/progtxns.md","localizedDate":"April 26, 2023","autoDesc":true}');export{d as comp,m as data};
