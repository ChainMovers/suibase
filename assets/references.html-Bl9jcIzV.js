import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as i,e as n}from"./app-DWP7F4dH.js";const s={},a=n(`<h1 id="workdir-conventions" tabindex="-1"><a class="header-anchor" href="#workdir-conventions"><span>Workdir Conventions</span></a></h1><p>Suibase define a few conventions to coordinate among SDKs, apps and user.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>This section present more advanced subjects. If just starting to use Suibase scripts, then you may want to skip it.</p></div><h2 id="filesystem-path-convention" tabindex="-1"><a class="header-anchor" href="#filesystem-path-convention"><span>Filesystem Path Convention</span></a></h2><p>There are 6 &lt;WORKDIR&gt;: <code>active</code>, <code>localnet</code>, <code>devnet</code>, <code>testnet</code>, <code>mainnet</code> and <code>cargobin</code></p><p>Each &lt;WORKDIR&gt; has the following components:</p><table><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td>sui-exec</td><td>A script allowing any app to safely call the right sui client+config combination for this workdir. Use it like you would use the &quot;sui&quot; client from Mysten Lab.</td></tr><tr><td>config</td><td>Directory with Mysten Lab files needed to run the sui client (client.yaml and sui.keystore).</td></tr><tr><td>sui-repo</td><td>A local repo of the Mysten lab sui code for building the client binary, but also for any apps to use the Rust SDK crates for compatibility.</td></tr><tr><td>published-data</td><td>Information about last package published from this &lt;WORKDIR&gt; using suibase scripts. This can be retrieved through JSON files or through suibase SDK helpers.</td></tr><tr><td>workdir-exec</td><td>A script allowing any app to safely call the right &quot;workdir script&quot;.<br> Example: <code>$ ~/workdirs/localnet/workdir-exec update</code> is equivalent to the shortcut <code>$ localnet update</code></td></tr></tbody></table><p>Applications can expect the components to be always at these <strong>fix</strong> locations:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code> ~/suibase/
     └─ workdirs/
          └─ &lt;WORKDIR&gt;/
                ├── sui-exec
                ├── workdir-exec
                │
                ├── config
                │      ├── client.yaml
                │      └── sui.keystore
                │
                ├── sui-repo
                │      ├── crates/
                │      ├── target/
                │      └── ... complete sui repo (debug built) ...
                │
                └── published-data
                       └─ &lt;package name&gt;
                               └─ publish-output.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>Official and Complete Path List</summary><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>    ~/suibase/workdirs/&lt;WORKDIR&gt;/sui-exec
    ~/suibase/workdirs/&lt;WORKDIR&gt;/workdir-exec
    ~/suibase/workdirs/&lt;WORKDIR&gt;/config/client.yaml
    ~/suibase/workdirs/&lt;WORKDIR&gt;/config/sui.keystore
    ~/suibase/workdirs/&lt;WORKDIR&gt;/sui-repo/
    ~/suibase/workdirs/&lt;WORKDIR&gt;/published-data/&lt;PACKAGE_NAME&gt;/publish-output.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="what-is-the-publish-output-json" tabindex="-1"><a class="header-anchor" href="#what-is-the-publish-output-json"><span>What is the publish-output.json?</span></a></h2><p>Doing publish using suibase scripts will create a publish-output.json file in the published-data directory of the workdir.</p><p>This file can then conveniently be read by your app (through Suibase helpers) to get package_id and object_id of new shared object published.</p><h2 id="concurrency-limitation" tabindex="-1"><a class="header-anchor" href="#concurrency-limitation"><span>Concurrency Limitation</span></a></h2><p>When attempting to do many things at once (multiple apps accessing multiple network at same time), a few rules to keep in mind:</p><ul><li><p>In the context of Suibase, each Sui client is associated with a single network (localnet, devnet, testnet, mainnet). You should NEVER edit the client.yaml to target different network type (localnet vs testnet). It is ok to have multiple env to target different RPC toward the <strong>same</strong> network (e.g. <code>fullnode.testnet.sui.io</code>, <code>fullnode.testnet.vincagame.com</code> ...)</p></li><li><p>Each Sui client have a single active address. An app changing the active-address should not assume that it will remain unchanged (because the user or other app are allowed to change it also). Suibase helper provides alternative to get client addresses in a more deterministic way (e.g. by name) for advanced test setup.</p></li><li><p>Changing the active workdir for &quot;asui&quot; can be safely done from multiple apps (and API), but only the last call will be effective. Changing the active workdir is not to be done &quot;lightly&quot;, and typically it is expected that it will be driven by one user on the CLI (e.g. &quot;localnet set-active&quot;).</p></li></ul><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>When the active workdir of &quot;asui&quot; is changed, it is recommended to &quot;cargo clean&quot; or &quot;rebuild&quot; your dependent apps. This is to make sure that the new workdir context is re-applied to all tools/SDKs.</p></div>`,17),o=[a];function r(l,d){return t(),i("div",null,o)}const p=e(s,[["render",r],["__file","references.html.vue"]]),h=JSON.parse('{"path":"/references.html","title":"Workdir Conventions","lang":"en-US","frontmatter":{"description":"Workdir Conventions Suibase define a few conventions to coordinate among SDKs, apps and user. Tips This section present more advanced subjects. If just starting to use Suibase s...","head":[["meta",{"property":"og:url","content":"https://suibase.io/references.html"}],["meta",{"property":"og:site_name","content":"suibase.io"}],["meta",{"property":"og:title","content":"Workdir Conventions"}],["meta",{"property":"og:description","content":"Workdir Conventions Suibase define a few conventions to coordinate among SDKs, apps and user. Tips This section present more advanced subjects. If just starting to use Suibase s..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-05-12T04:44:14.000Z"}],["meta",{"property":"article:author","content":"suibase.io"}],["meta",{"property":"article:modified_time","content":"2023-05-12T04:44:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Workdir Conventions\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-05-12T04:44:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"suibase.io\\",\\"url\\":\\"https://suibase.io\\"}]}"]]},"headers":[{"level":2,"title":"Filesystem Path Convention","slug":"filesystem-path-convention","link":"#filesystem-path-convention","children":[]},{"level":2,"title":"What is the publish-output.json?","slug":"what-is-the-publish-output-json","link":"#what-is-the-publish-output-json","children":[]},{"level":2,"title":"Concurrency Limitation","slug":"concurrency-limitation","link":"#concurrency-limitation","children":[]}],"git":{"createdTime":1677901685000,"updatedTime":1683866654000,"contributors":[{"name":"mario4tier","email":"mario4tier@users.noreply.github.com","commits":6}]},"readingTime":{"minutes":1.76,"words":527},"filePathRelative":"references.md","localizedDate":"March 4, 2023","autoDesc":true}');export{p as comp,h as data};
