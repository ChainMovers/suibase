import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c,a as e,b as s,d as n,w as p,e as a}from"./app-3c004f1c.js";const u={},d=e("h2",{id:"introduction",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#introduction","aria-hidden":"true"},"#"),s(" Introduction")],-1),h=e("p",null,"All scripts are listed below and briefly described.",-1),m=e("p",null,'Best way to learn about each is probably just to try them... and "--help".',-1),b=e("thead",null,[e("tr",null,[e("th",null,[e("strong",null,"Script Name")]),e("th",null,[e("strong",null,"What are they for?")])])],-1),v=e("tr",null,[e("td",null,[e("h3",null,[s("lsui"),e("br"),s("dsui"),e("br"),s("tsui"),e("br"),s("msui"),e("br")])]),e("td",null,[s('Front-ends to Mysten Lab "sui" binaries, each targeting a specific network (no need to "switch" env):'),e("br"),e("p",{style:{"text-align":"center"}},[e("b",null,"l"),s("sui→"),e("b",null,"l"),s("ocalnet, "),e("b",null,"d"),s("sui→"),e("b",null,"d"),s("evnet, "),e("b",null,"t"),s("sui→"),e("b",null,"t"),s("estnet, "),e("b",null,"m"),s("sui→"),e("b",null,"m"),s("ainnet")]),s("Each script always run within the proper workdir (client+keystore container) for the intended network."),e("br"),s("The scripts are mostly transparent; all arguments are pass unchanged to a single Mysten Labs sui client call."),e("br"),e("br"),s("Example: "),e("code",null,"$ lsui client gas"),s(" ← same as "),e("code",null,"sui client gas"),s(" but "),e("em",null,"always"),s(" for localnet")])],-1),k=e("tr",null,[e("td",null,[e("h3",null,[s("localnet"),e("br"),s("devnet"),e("br"),s("testnet"),e("br"),s("mainnet"),e("br")])]),e("td",null,[s('These are the "workdir scripts" providing suibase specific features.'),e("br"),e("br"),s("Example: "),e("code",null,"$ localnet faucet all"),s(" ← sends Sui coins to every address on your localnet"),e("br")])],-1),g=e("td",null,[e("h3",null,"asui")],-1),w=e("br",null,null,-1),y=a(`<h2 id="faster-rust-and-move-build" tabindex="-1"><a class="header-anchor" href="#faster-rust-and-move-build" aria-hidden="true">#</a> Faster Rust and Move Build</h2><p>Suibase download the Mysten Lab&#39;s repo locally to build a sui client for each network, so your apps might as well re-use these.</p><p>Advantages are:</p><ul><li>Faster local file access on rebuild.</li><li>Less build/publish errors (sometimes GitHub do have trouble serving, causing dependencies loading errors)</li><li>Control having your app, client and localnet being built from the <strong>same</strong> source (avoid version mismatch issues).</li></ul><p>Location of these repos are:</p><ul><li>~/suibase/workdirs/<strong>localnet</strong>/sui-repo</li><li>~/suibase/workdirs/<strong>devnet</strong>/sui-repo</li><li>~/suibase/workdirs/<strong>testnet</strong>/sui-repo</li><li>~/suibase/workdirs/<strong>mainnet</strong>/sui-repo</li></ul><p>Update to latest with the &quot;update&quot; command (e.g. &quot;localnet update&quot;). <br></p><h2 id="cargo-toml-dependencies-to-local-repos" tabindex="-1"><a class="header-anchor" href="#cargo-toml-dependencies-to-local-repos" aria-hidden="true">#</a> Cargo.toml dependencies to local repos</h2><p>This is optional, but highly recommended. Instead of git, use &quot;path&quot; to the local repos.</p><p>Example, replace:<br></p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">sui-sdk</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">git</span> <span class="token punctuation">=</span> <span class="token string">&quot;https://github.com/MystenLabs/sui&quot;</span><span class="token punctuation">,</span> <span class="token key property">branch</span> <span class="token punctuation">=</span> <span class="token string">&quot;devnet&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>with</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">sui-sdk</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">path</span> <span class="token punctuation">=</span> <span class="token string">&quot;../../suibase/workdirs/active/sui-repo/crates/sui-sdk/&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>The number of &quot;..&quot; may need to be adjusted depending on where your Cargo.toml is located relative to ~/suibase.</p><p>If you always target the same network you can replace the &quot;active&quot; word with a specific workdir (e.g. localnet/devnet/testnet/mainnet).</p>`,15),f={href:"https://github.com/chainmovers/suibase/blob/main/rust/demo-app/Cargo.toml",target:"_blank",rel:"noopener noreferrer"},_=a(`<h2 id="what-does-active-mean" tabindex="-1"><a class="header-anchor" href="#what-does-active-mean" aria-hidden="true">#</a> What does &quot;active&quot; mean?</h2><p>A single workdir is designated as active and allows multiple tools/scripts to run in the same context and target the same network.</p><p>You choose the active with a workdir &quot;set-active&quot; command. Examples:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ devnet set-active
devnet is now active
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>The &quot;asui&quot; will conveniently call the correct &quot;sui client&quot; for the active workdir. You will typically want to use &quot;asui&quot; in your own script for operations that are expected to work for <em>all</em> network type.</p><h2 id="move-toml-dependencies-to-local-repos" tabindex="-1"><a class="header-anchor" href="#move-toml-dependencies-to-local-repos" aria-hidden="true">#</a> Move.toml dependencies to local repos</h2><p>This is optional, but highly recommended. Instead of git, use &quot;local&quot; to the local repos.</p><p>Example, replace:<br></p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">Sui</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">git</span> <span class="token punctuation">=</span> <span class="token string">&quot;https://github.com/MystenLabs/sui.git&quot;</span><span class="token punctuation">,</span> <span class="token key property">subdir</span><span class="token punctuation">=</span><span class="token string">&quot;crates/sui-framework/packages/sui-framework/&quot;</span><span class="token punctuation">,</span> <span class="token key property">rev</span> <span class="token punctuation">=</span> <span class="token string">&quot;devnet&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>with</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">dependencies</span><span class="token punctuation">]</span>
<span class="token key property">Sui</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">local</span> <span class="token punctuation">=</span> <span class="token string">&quot;../../suibase/workdirs/active/sui-repo/crates/sui-framework/packages/sui-framework&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>You may need to adjust the number of &quot;..&quot; depending on where your Move.toml is located relative to ~/suibase.</p><p>If you prefer to always target the same network you can replace the &quot;active&quot; word with a specific workdir (e.g. localnet/devnet/testnet).</p>`,13),q={href:"https://github.com/sui-base/suibase/blob/main/rust/demo-app/move/Move.toml",target:"_blank",rel:"noopener noreferrer"},x=a(`<h2 id="how-to-publish" tabindex="-1"><a class="header-anchor" href="#how-to-publish" aria-hidden="true">#</a> How to publish?</h2><p>Suibase has a workdir command to make it easier to publish.</p><p>Example to publish on localnet:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>location of Move.toml<span class="token operator">&gt;</span>
$ localnet publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Alternatively you can do: <code>$ localnet publish --path &lt;location of Move.toml&gt;</code></p><p>If you have coded your dependencies&#39; path in Move.toml with &quot;active&quot;, then you can easily switch and publish on any network:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ testnet set-active
testnet is now active
$ testnet publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This should work assuming you have enough fund in the active-address (and the network is up and running!).</p><p>Do <code>$ localnet publish --help</code> for more info.</p>`,9);function M(E,L){const l=o("RouterLink"),t=o("ExternalLinkIcon");return r(),c("div",null,[d,h,m,e("table",null,[b,e("tbody",null,[v,k,e("tr",null,[g,e("td",null,[s('You can designate one workdir as "active". '),n(l,{to:"/how-to/scripts.html#what-does-active-mean"},{default:p(()=>[s("More Info")]),_:1}),w,s(' This script will call the "active sui" client.')])])])]),y,e("p",null,[s("Demo Example: "),e("a",f,[s("Cargo.toml"),n(t)])]),_,e("p",null,[s("Demo example: "),e("a",q,[s("Move.toml"),n(t)])]),x])}const $=i(u,[["render",M],["__file","scripts.html.vue"]]);export{$ as default};
