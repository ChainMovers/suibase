import{_ as u}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as r,c as p,a as n,b as s,d as i,w as t}from"./app-DK2buADt.js";const d={},k=n("h2",{id:"facts",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#facts"},[n("span",null,"Facts")])],-1),m={class:"hint-container tip"},h=n("p",{class:"hint-container-title"},"Fact Sheet",-1),g=n("li",null,"MultiSigs provide another level of security governance by requiring more than one key to sign transactions",-1),b=n("li",null,"MultiSigs are constructed with 2 or more keypairs, each with their own weight",-1),v=n("li",null,[s("Construction also requires a threshold. The threshold is checked at signature creation time and if the"),n("br"),s(" associated sum of 'weights' of the keys provided are less than the threshold, signing will fail")],-1),y=n("li",null,"MultiSigs have a unique address",-1),_=n("li",null,"You can send objects to the MultiSig address like any other Sui address",-1),f=n("li",null,"To manipulate objects owned by the MultiSig address, you must sign with 1 or more of the keys of the constructed MultiSig",-1),S={href:"https://docs.sui.io/testnet/learn/cryptography/sui-multisig",target:"_blank",rel:"noopener noreferrer"},w=n("li",null,[s("Unlike other keys that are stored in "),n("code",null,"sui.keystore"),s(", MultiSigs are not persisted.")],-1),M=n("h3",{id:"create-a-multisig",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#create-a-multisig"},[n("span",null,"Create a MultiSig")])],-1),x=n("div",{class:"language-Rust line-numbers-mode","data-ext":"Rust","data-title":"Rust"},[n("pre",{class:"language-Rust"},[n("code",null,`To be done. Add your contribution here.
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),T=n("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"from"),s(" pysui"),n("span",{class:"token punctuation"},"."),s("sui"),n("span",{class:"token punctuation"},"."),s("sui_crypto "),n("span",{class:"token keyword"},"import"),s(" MultiSig"),n("span",{class:"token punctuation"},","),s(` SuiKeyPair

`),n("span",{class:"token comment"},"# Create a list of keypairs."),s(`
sui_keypairs`),n("span",{class:"token punctuation"},":"),n("span",{class:"token builtin"},"list"),s(),n("span",{class:"token punctuation"},"["),s("SuiKeyPair"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s("keypair1"),n("span",{class:"token punctuation"},","),s(" keypair2"),n("span",{class:"token punctuation"},","),s(" keypair3"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token comment"},"# Create equal number of weights"),s(`
keypair_weights`),n("span",{class:"token punctuation"},":"),n("span",{class:"token builtin"},"list"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token builtin"},"int"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),n("span",{class:"token number"},"3"),n("span",{class:"token punctuation"},","),n("span",{class:"token number"},"4"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token comment"},"# Threshold to meet when signing"),s(`
threshold`),n("span",{class:"token punctuation"},":"),n("span",{class:"token builtin"},"int"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"4"),s(`

`),n("span",{class:"token comment"},"# Create the multisig that consists of 3 keys with"),s(`
`),n("span",{class:"token comment"},"# associated weights and a signing threshold"),s(`

msig `),n("span",{class:"token operator"},"="),s(" MultiSig"),n("span",{class:"token punctuation"},"("),s("sui_keypairs"),n("span",{class:"token punctuation"},","),s("keypair_weights"),n("span",{class:"token punctuation"},","),s(" threshold"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"MultiSig unique address: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("msig"),n("span",{class:"token punctuation"},"."),s("address"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),A=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[s("To be done"),n("span",{class:"token punctuation"},"."),s(" Add your contribution here"),n("span",{class:"token punctuation"},"."),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),C=n("h3",{id:"sign-with-a-multisig",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#sign-with-a-multisig"},[n("span",null,"Sign with a MultiSig")])],-1),R=n("div",{class:"language-Rust line-numbers-mode","data-ext":"Rust","data-title":"Rust"},[n("pre",{class:"language-Rust"},[n("code",null,`To be done. Add your contribution here.
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),P=n("div",{class:"language-python line-numbers-mode","data-ext":"py","data-title":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"from"),s(" pysui"),n("span",{class:"token punctuation"},"."),s("sui"),n("span",{class:"token punctuation"},"."),s("sui_crypto "),n("span",{class:"token keyword"},"import"),s(` MultiSig
`),n("span",{class:"token keyword"},"from"),s(" pysui"),n("span",{class:"token punctuation"},"."),s("sui"),n("span",{class:"token punctuation"},"."),s("sui_clients"),n("span",{class:"token punctuation"},"."),s("sync_client "),n("span",{class:"token keyword"},"import"),s(` SuiClient
`),n("span",{class:"token keyword"},"from"),s(" pysui"),n("span",{class:"token punctuation"},"."),s("sui"),n("span",{class:"token punctuation"},"."),s("sui_builders"),n("span",{class:"token punctuation"},"."),s("exec_builders "),n("span",{class:"token keyword"},"import"),s(` Pay

`),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"sui_pay_ms"),n("span",{class:"token punctuation"},"("),s(`
    client`),n("span",{class:"token punctuation"},":"),s(" SuiClient"),n("span",{class:"token punctuation"},","),s(`
    to_addy`),n("span",{class:"token punctuation"},":"),s(" SuiAddress"),n("span",{class:"token punctuation"},","),s(`
    msig`),n("span",{class:"token punctuation"},":"),s(" MultiSig"),n("span",{class:"token punctuation"},","),s(" amount"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token builtin"},"int"),s(`
    `),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token operator"},">"),s(" SuiRpcResult"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token triple-quoted-string string"},'"""Pay some balance from MultiSig address to some other address."""'),s(`
    pay_builder `),n("span",{class:"token operator"},"="),s(" Pay"),n("span",{class:"token punctuation"},"("),s(`
        signer`),n("span",{class:"token operator"},"="),s("msig"),n("span",{class:"token punctuation"},"."),s("address"),n("span",{class:"token punctuation"},","),s(`
        input_coins`),n("span",{class:"token operator"},"="),n("span",{class:"token punctuation"},"["),s("ObjectID"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"0x1ad571e2cbdb813045f88022b02f52d55c26b3118088a293ac3063241b9f6470"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        recipients`),n("span",{class:"token operator"},"="),n("span",{class:"token punctuation"},"["),s("to_addy"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        amounts`),n("span",{class:"token operator"},"="),n("span",{class:"token punctuation"},"["),s("SuiString"),n("span",{class:"token punctuation"},"("),s("amount"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        gas`),n("span",{class:"token operator"},"="),s("ObjectID"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"0x9de1dade0323c16c2b20f7fd2fce362041467f3d42c90f3f8445f8a8b435558d"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        gas_budget`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"2000000"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"# Sign with a subject of keys. In this example, we just borrow two of the 3"),s(`
    `),n("span",{class:"token comment"},"# keys we used to construct the multisig. Their combinded weights = 4 which"),s(`
    `),n("span",{class:"token comment"},"# meets the threshold specified at MultiSig creation"),s(`

    result `),n("span",{class:"token operator"},"="),s(" client"),n("span",{class:"token punctuation"},"."),s("execute_with_multisig"),n("span",{class:"token punctuation"},"("),s("pay_builder"),n("span",{class:"token punctuation"},","),s(" msig"),n("span",{class:"token punctuation"},","),s(" msig"),n("span",{class:"token punctuation"},"."),s("public_keys"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(" result"),n("span",{class:"token punctuation"},"."),s("is_ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},"."),s("result_data"),n("span",{class:"token punctuation"},"."),s("to_json"),n("span",{class:"token punctuation"},"("),s("indent"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("result"),n("span",{class:"token punctuation"},"."),s("result_string"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"return"),s(` result
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts","data-title":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[s("To be done"),n("span",{class:"token punctuation"},"."),s(" Add your contribution here"),n("span",{class:"token punctuation"},"."),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1);function q(F,I){const c=l("ExternalLinkIcon"),o=l("CodeTabs");return r(),p("div",null,[k,n("div",m,[h,n("ul",null,[g,b,v,y,_,f,n("li",null,[s("Creation and signing for MultiSig from CLI can be found on "),n("a",S,[s("Sui Docs"),i(c)])]),w])]),M,i(o,{id:"50",data:[{id:"Rust"},{id:"Python"},{id:"TS"}],active:0},{title0:t(({value:e,isActive:a})=>[s("Rust")]),title1:t(({value:e,isActive:a})=>[s("Python")]),title2:t(({value:e,isActive:a})=>[s("TS")]),tab0:t(({value:e,isActive:a})=>[x]),tab1:t(({value:e,isActive:a})=>[T]),tab2:t(({value:e,isActive:a})=>[A]),_:1}),C,i(o,{id:"64",data:[{id:"Rust"},{id:"Python"},{id:"TS"}],active:0},{title0:t(({value:e,isActive:a})=>[s("Rust")]),title1:t(({value:e,isActive:a})=>[s("Python")]),title2:t(({value:e,isActive:a})=>[s("TS")]),tab0:t(({value:e,isActive:a})=>[R]),tab1:t(({value:e,isActive:a})=>[P]),tab2:t(({value:e,isActive:a})=>[j]),_:1})])}const N=u(d,[["render",q],["__file","multisig.html.vue"]]),V=JSON.parse('{"path":"/cookbook/code/multisig.html","title":"MultiSig","lang":"en-US","frontmatter":{"title":"MultiSig","contributors":true,"editLink":true,"description":"Facts Fact Sheet MultiSigs provide another level of security governance by requiring more than one key to sign transactions MultiSigs are constructed with 2 or more keypairs, ea...","head":[["meta",{"property":"og:url","content":"https://suibase.io/cookbook/code/multisig.html"}],["meta",{"property":"og:site_name","content":"suibase.io"}],["meta",{"property":"og:title","content":"MultiSig"}],["meta",{"property":"og:description","content":"Facts Fact Sheet MultiSigs provide another level of security governance by requiring more than one key to sign transactions MultiSigs are constructed with 2 or more keypairs, ea..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-05-17T10:00:34.000Z"}],["meta",{"property":"article:author","content":"suibase.io"}],["meta",{"property":"article:modified_time","content":"2023-05-17T10:00:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MultiSig\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-05-17T10:00:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"suibase.io\\",\\"url\\":\\"https://suibase.io\\"}]}"]]},"headers":[{"level":2,"title":"Facts","slug":"facts","link":"#facts","children":[{"level":3,"title":"Create a MultiSig","slug":"create-a-multisig","link":"#create-a-multisig","children":[]},{"level":3,"title":"Sign with a MultiSig","slug":"sign-with-a-multisig","link":"#sign-with-a-multisig","children":[]}]}],"git":{"createdTime":1684317634000,"updatedTime":1684317634000,"contributors":[{"name":"Frank V. Castellucci","email":"frankiecast@gmail.com","commits":1}]},"readingTime":{"minutes":1.21,"words":362},"filePathRelative":"cookbook/code/multisig.md","localizedDate":"May 17, 2023","autoDesc":true}');export{N as comp,V as data};
